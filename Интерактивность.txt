 Груничева Марина Валерьевна (11:58:44 5/03/2020) 
Описание функций интерактивности в отчетах (актуально с 18.42).


DefaultValue - значение по умолчанию, блокировка атрибута - нет, перебивает старое значение - нет.

ParameterValue - передача значения, блокировка атрибута - да, перебивает старое значение - да.

ReadOnly - блокирует атрибут, грид

Filter - фильтрует список элементов справочника/документа (как ограничение на ввод)

AddRow - добавляет значения в строки 2 уровня (верхний грид)

Clear- чистим значения/грид

Find- ищет значение в колонке атрибута/справочника в гриде (вставляет значение в строку фильтрации грида)




Как работало раньше:

-до версии 18.41 "Filter" не фильтровал список элементов, а передавал значения с блокировкой (как сейчас делает ParameterValue). Изменения согласно багу 111795.

-до версии 18.42 передача параметра с блокировкой не перебивала уже имеющиеся значение в поле, в которое передаем значение с отчета. ТО есть передача параметра работала только для незаполненных полей.
Теперь начиная с версии 18.42 передача параметра происходит через ф-цию "ParameterValue" жестко, не глядя заполнен уже атрибут или нет. Изменения согласно багу 91683.
Если необходимо передавать параметр только в пустые поля, тогда можно пользоваться знаечнием по умолчанию (DefaultValue) и блокировкой (ReadOnly).


!Если использовалась интерактивность без загрузки логич.структруры с применением ф-ций интерактивности по выбору элементов и формы редактирования в таком формате:
="ID#Filter#"+Fields!ID.Value
="ID_VIEW#Filter#3316"


то необходимо заменить функцию Filter на ParameterValue. Вот так:

="ID#ParameterValue#"+Fields!ID.Value
="ID_VIEW#ParameterValue#3316"


--------------------------------------------------------------
ПРИМЕРЫ  (синтаксис):

*интер-ть без структуры: тип интерактивности с пустыми строками, где сами прописываем атрибуты, в которые мы передаем параметры. Н-р, Интрактивность "Добавить/изменить документ"
*интер-ть со структурой: тип интерактивности, где можно выбрать из списка документ и форму, после чего подгружается структура документа. Выражение интерактивности при этом пишется напротив атрибута. Н-р, Интрактивность "Создание документа" и "Редактирование документа"


1) DefaultValue, ParameterValue, Filter, Find 

-интер-ть без структуры:
статически. ="12380_10952#DefaultValue#87"  (12380-id уровня,10952-id атриубута-справочника,87-id элемента справочника) 
динамически. ="12380_10952#DefaultValue#"+Fields!макеткосгу_Код.Value
-интер-ть со структурой:
статически.  ="DefaultValue#" + 87 (87-id элемента справочника) 
динамически. ="DefaultValue#"+ Fields!макеткосгу_Код.Value

2) ReadOnly

-интер-ть без структуры: ="12380_10952#readonly#true" (12380-id уровня,10952-id атриубута-справочника) , ="12395#readonly#TRUE" (12395-id уровня)
-интер-ть со структурой:="ReadOnly#"

3) AddRow - 

-интер-ть без структуры: пишем для грида ="12387#addrow" и для атрибута ="12387_10966#addrow#1!#@$2!#@$3" (12387-id уровня,10966-id атрибута,1,2,3-добавляемые знаечния в колонку атрибута, !#@$- ф-ция перечсиления значений)
-интер-ть со структурой: пишем напротив грида ="addrow"  и пишем напротив атрибута ="addrow#1!#@$2!#@$3".
!Если добавляем элементы справочника,нужно перечислять id элементов.

4) Clear- 

интер-ть без структуры: ="12380_11561#Clear" (12380-id уровня,11561-id атриубута), ="12395#Clear" (12395 - id атрибута с 1 уровня)
интер-ть со структурой: пишем напротив грида или атрибута ="Clear#"


ЕЩЕ
Определениеи id элемента для интерактивности без структуры:
="ID#ParameterValue#123"- (123-id элемента. если поставить 0, то создается новый элемент)

Определениеи формы редактирования для интерактивности без структуры:
="ID_VIEW#ParameterValue#3316" (3316-id формы)